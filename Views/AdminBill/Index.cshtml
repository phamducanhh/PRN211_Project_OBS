@using PRN211_Project_OBS.Controllers
@using PRN211_Project_OBS.Models
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
    List<Bill> ListBill = ViewBag.ListBill;
}

<h2>Index</h2>
<div class="table-responsive">
    <table class="table no-wrap">
        <thead>
            <tr>
                <th class="border-top-0">id</th>
                <th class="border-top-0">User ID</th>
                <th class="border-top-0">Address</th>
                <th class="border-top-0">TelePhone</th>
                <th class="border-top-0">Date</th>
                <th class="border-top-0">Payment</th>
                <th class="border-top-0">Status</th>
                <th class="border-top-0">Total</th>
                <th class="border-top-0">Action</th>
                
            </tr>
        </thead>
        <tbody>
            @foreach (Bill item in ListBill)
            {
            <tr>                                        
                <td>@item.id</td>
                <td class="txt-oflo">@item.user_id</td>
                <td class="txt-oflo">@item.address</td>
                <td class="txt-oflo">@item.telephone</td>
                <td class="txt-oflo">@item.date</td>
                <td><span class="text-success">@item.payment</span></td>
                <td>
                    <form action="/AdminBill/ChangeStatus?id=@item.id" method="POST">
                        <select name="selectStatus" @(item.status == "Done" ? "disabled" : "") onchange="this.form.submit()">
                            <option value="Unseen" @(item.status == "Unseen" ? "selected" : "")>Unseen</option>
                            <option value="Process" @(item.status == "Process" ? "selected" : "")>Process</option>
                            <option value="Done" @(item.status == "Done" ? "selected" : "")>Done</option>
                        </select>
                        <input name="url" value="@ViewBag.Url" hidden>
                    </form>
                </td>
                <td><span class="text-success">@item.total</span></td>

                <td>
                    <div class="comment-footer d-md-flex align-items-center">
                        <a href="/AdminBill/BillDetail?id=@item.id" class="badge bg-primary rounded">BillDetail</a>

                        <a href="/AdminBill/BillDetail?id=@item.id" class="badge rounded bg-danger">Update</a>
                    </div>
                </td>
                
            </tr>
            }
        </tbody>
    </table>
</div>

